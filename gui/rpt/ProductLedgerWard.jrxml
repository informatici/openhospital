<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="ProductLedgerWard"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="842"
		 pageHeight="595"
		 columnWidth="782"
		 columnSpacing="0"
		 leftMargin="30"
		 rightMargin="30"
		 topMargin="20"
		 bottomMargin="20"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false"
		 resourceBundle="ProductLedgerWard"
		 whenResourceMissingType="Key">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<style 
		name="opening"
		isDefault="false"
	>

		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean( !$F{ORDERING_FIELD}.equals( "2" ))]]></conditionExpression>
			<style 
				name="opening"
				isDefault="false"
				isUnderline="true"
			>
			</style>
		</conditionalStyle>
			<conditionalStyle>
				<conditionExpression><![CDATA[new Boolean( $F{MOV_TYPE}.equals( "Rectify" ) )]]></conditionExpression>
				<style 
					name="opening"
					isDefault="false"
					forecolor="#FF0000"
					isBold="true"
					isItalic="true"
					isUnderline="true"
				>
				</style>
			</conditionalStyle>
	</style>

	<parameter name="Hospital" isForPrompting="false" class="java.lang.String"/>
	<parameter name="Address" isForPrompting="false" class="java.lang.String"/>
	<parameter name="City" isForPrompting="false" class="java.lang.String"/>
	<parameter name="Email" isForPrompting="false" class="java.lang.String"/>
	<parameter name="Telephone" isForPrompting="false" class="java.lang.String"/>
	<parameter name="fromdate" isForPrompting="true" class="java.lang.String"/>
	<parameter name="todate" isForPrompting="true" class="java.lang.String"/>
	<parameter name="productID" isForPrompting="true" class="java.lang.String"/>
	<parameter name="Currency" isForPrompting="true" class="java.lang.String"/>
	<parameter name="WardCode" isForPrompting="true" class="java.lang.String"/>
	<parameter name="WardName" isForPrompting="true" class="java.lang.String"/>
	<queryString><![CDATA[SELECT * FROM (SELECT 	"1" AS ORDERING_FIELD,
		null AS MOVE_ID,
		DATE($P{fromdate}) AS MOV_DATE, 
		(SELECT MDSR_CODE FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_CODE, 
		(SELECT MDSR_DESC FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_DESC,
		(SELECT MDSRT_DESC FROM MEDICALDSR JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A WHERE MDSR_ID = $P{productID}) AS MDSRT_DESC, 
        0 AS IS_PATIENT,
        "Opening" AS MOV_TYPE,
		"Opening Balance" AS REASON,
		(SELECT SUM(MMV_QTY)
			FROM MEDICALDSRSTOCKMOV
			LEFT JOIN MEDICALDSRSTOCKMOVtype ON MMV_MMVT_ID_A = MMVT_ID_A
			WHERE MMVT_TYPE LIKE '%-%'
			AND DATE(MMV_DATE) < $P{fromdate}
			AND MMV_WRD_ID_A = $P{WardCode}
			AND MMV_MDSR_ID = $P{productID}
			GROUP BY MMV_MDSR_ID) AS IN_QTY,
		SUM(MMVN_MDSR_QTY) AS OUT_QTY,
		(SELECT AVG(LT_COST)
			FROM MEDICALDSRSTOCKMOV
			LEFT JOIN MEDICALDSRSTOCKMOVtype ON MMV_MMVT_ID_A = MMVT_ID_A
			LEFT JOIN MEDICALDSRlot ON MMV_LT_ID_A = LT_ID_A
			WHERE MMVT_TYPE LIKE '%-%'
			AND DATE(MMV_DATE) < $P{fromdate}
			AND MMV_WRD_ID_A = $P{WardCode}
			AND MMV_MDSR_ID = $P{productID}
			GROUP BY MMV_MDSR_ID) AS COST		
		
	FROM MEDICALDSRSTOCKMOVWARD
		LEFT JOIN MEDICALDSR ON MMVN_MDSR_ID = MDSR_ID
		LEFT JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A
	WHERE DATE(MMVN_DATE) < $P{fromdate}
		AND MMVN_WRD_ID_A = $P{WardCode}
		AND MMVN_MDSR_ID = $P{productID}

	UNION

SELECT "2" AS ORDERING_FIELD,
	MOVE_ID, 
	MOV_DATE, 
    MDSR_CODE, 
    MDSR_DESC, 
    MDSRT_DESC, 
    IS_PATIENT,
    MOV_TYPE,
	REASON,
	SUM(IF(IN_QTY - OUT_QTY > 0, IN_QTY, 0)) AS IN_QTY,
    SUM(IF(IN_QTY - OUT_QTY > 0, 0, OUT_QTY)) AS OUT_QTY,
	COST
	

	FROM (

		SELECT * FROM (

			SELECT 
				MMVN_ID AS MOVE_ID,
				MMVN_DATE AS MOV_DATE,
				(SELECT MDSR_CODE FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_CODE,
				(SELECT MDSR_DESC FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_DESC,
				(SELECT MDSRT_DESC FROM MEDICALDSR JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A WHERE MDSR_ID = $P{productID}) AS MDSRT_DESC, 
				MMVN_IS_PATIENT AS IS_PATIENT,
				IF (MMVN_IS_PATIENT = 1 AND MMVN_MDSR_QTY < 0, "Return", -- Return by Patients
					IF(MMVN_IS_PATIENT = 1 AND MMVN_MDSR_QTY > 0, "Patient",  -- Discharge to Patient
						IF(MMVN_WRD_ID_A_TO IS NOT NULL, "To Ward", -- Movement to another ward 
							IF(MMVN_WRD_ID_A_FROM IS NOT NULL, "From Ward", -- Movement from another ward 
								"Rectify")))) AS MOV_TYPE, -- Rectify / Inventory
				IF (MMVN_IS_PATIENT = 1 AND MMVN_MDSR_QTY < 0, "Return by Patient", -- Return
					IF(MMVN_IS_PATIENT = 1 AND MMVN_MDSR_QTY > 0, "Discharge to Patient",  -- Patient
						IF(MMVN_WRD_ID_A_TO IS NOT NULL, 
						CONCAT("To WARD: ", (SELECT WRD_NAME FROM WARD WHERE WRD_ID_A = MMVN_WRD_ID_A_TO)), -- Movement to another ward 
							IF(MMVN_WRD_ID_A_FROM IS NOT NULL, 
							CONCAT("From WARD: ", (SELECT WRD_NAME FROM WARD WHERE WRD_ID_A = MMVN_WRD_ID_A_FROM)), -- Movement from another ward 
								"Rectify / Inventory")))) AS REASON, -- Rectify
				IF (MMVN_MDSR_QTY < 0, -MMVN_MDSR_QTY, 0) AS IN_QTY,
				IF (MMVN_MDSR_QTY > 0, MMVN_MDSR_QTY, 0) AS OUT_QTY,
				null AS COST
				
			FROM
				MEDICALDSRSTOCKMOVWARD
					LEFT JOIN
				WARD ON MMVN_WRD_ID_A = WRD_ID_A
					LEFT JOIN
				MEDICALDSR ON MMVN_MDSR_ID = MDSR_ID
			WHERE
				DATE(MMVN_DATE) BETWEEN $P{fromdate} AND $P{todate}
					AND MMVN_WRD_ID_A = $P{WardCode}
					AND MMVN_MDSR_ID = $P{productID} 
			UNION 

			SELECT 
				MMV_ID AS MOVE_ID,
				MMV_DATE AS MOV_DATE,
				(SELECT MDSR_CODE FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_CODE,
				(SELECT MDSR_DESC FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_DESC,
				(SELECT MDSRT_DESC FROM MEDICALDSR JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A WHERE MDSR_ID = $P{productID}) AS MDSRT_DESC, 
				0 AS IS_PATIENT,
				"Income" AS MOV_TYPE, 
				CONCAT("From MAINSTORE: ", MMVT_DESC) AS REASON, -- Movement Type
				MMV_QTY AS IN_QTY,
				0 AS OUT_QTY,
				LT_COST AS COST
				
			FROM
				MEDICALDSRSTOCKMOV
					LEFT JOIN
				WARD ON MMV_WRD_ID_A = WRD_ID_A
					LEFT JOIN
				MEDICALDSR ON MMV_MDSR_ID = MDSR_ID
					LEFT JOIN
				MEDICALDSRSTOCKMOVtype ON MMV_MMVT_ID_A = MMVT_ID_A
					LEFT JOIN 
				MEDICALDSRlot ON MMV_LT_ID_A = LT_ID_A
				
			WHERE
				DATE(MMV_DATE) BETWEEN $P{fromdate} AND $P{todate}
					AND MMV_WRD_ID_A = $P{WardCode}
					AND MMV_MDSR_ID = $P{productID}
					
			) AS MOVEMENTS
		
	ORDER BY MOV_DATE) AS MOVEMENTS_ORDERED

GROUP BY YEAR(MOV_DATE), MONTH(MOV_DATE), DAY(MOV_DATE), MOV_TYPE

UNION

SELECT 	"3" AS ORDERING_FIELD,
		null AS MOVE_ID,
		DATE($P{todate}) AS MOV_DATE, 
		(SELECT MDSR_CODE FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_CODE, 
		(SELECT MDSR_DESC FROM MEDICALDSR WHERE MDSR_ID = $P{productID}) AS MDSR_DESC,
		(SELECT MDSRT_DESC FROM MEDICALDSR JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A WHERE MDSR_ID = $P{productID}) AS MDSRT_DESC, 
        0 AS IS_PATIENT,
        "Closing" AS MOV_TYPE,
		"Closing Balance" AS REASON,
		(SELECT SUM(MMV_QTY)
			FROM MEDICALDSRSTOCKMOV
			LEFT JOIN MEDICALDSRSTOCKMOVtype ON MMV_MMVT_ID_A = MMVT_ID_A
			WHERE MMVT_TYPE LIKE '%-%'
			AND DATE(MMV_DATE) <= $P{todate}
			AND MMV_WRD_ID_A = $P{WardCode}
			AND MMV_MDSR_ID = $P{productID}
			GROUP BY MMV_MDSR_ID) AS IN_QTY,
		SUM(MMVN_MDSR_QTY) AS OUT_QTY,
		null AS COST
		
	FROM MEDICALDSRSTOCKMOVWARD
		LEFT JOIN MEDICALDSR ON MMVN_MDSR_ID = MDSR_ID
		LEFT JOIN MEDICALDSRTYPE ON MDSR_MDSRT_ID_A = MDSRT_ID_A
	WHERE DATE(MMVN_DATE) <= $P{todate}
		AND MMVN_WRD_ID_A = $P{WardCode}
		AND MMVN_MDSR_ID = $P{productID}
) AS BEGIN_MOV_END
ORDER BY ORDERING_FIELD ASC, MOV_DATE ASC]]></queryString>

	<field name="ORDERING_FIELD" class="java.lang.String"/>
	<field name="MOVE_ID" class="java.lang.Integer"/>
	<field name="MOV_DATE" class="java.sql.Timestamp"/>
	<field name="MDSR_CODE" class="java.lang.String"/>
	<field name="MDSR_DESC" class="java.lang.String"/>
	<field name="MDSRT_DESC" class="java.lang.String"/>
	<field name="IS_PATIENT" class="java.lang.Long"/>
	<field name="MOV_TYPE" class="java.lang.String"/>
	<field name="REASON" class="java.lang.String"/>
	<field name="IN_QTY" class="java.lang.Double"/>
	<field name="OUT_QTY" class="java.lang.Double"/>
	<field name="COST" class="java.lang.Double"/>

	<variable name="IN_OUT_QTY" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[new Double( $F{IN_QTY}.doubleValue() - $F{OUT_QTY}.doubleValue() )]]></variableExpression>
	</variable>
	<variable name="BALANCE" class="java.lang.Double" resetType="Report" calculation="Sum">
		<variableExpression><![CDATA[new Double( $F{IN_QTY}.doubleValue() - $F{OUT_QTY}.doubleValue())]]></variableExpression>
	</variable>
	<variable name="COST" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{COST} == null ? $V{COST} : $F{COST}]]></variableExpression>
	</variable>
	<variable name="VALUE" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{MOV_TYPE}.equals( "Income" ) ? 
	new Double( $F{COST}.doubleValue() * $V{IN_OUT_QTY}.doubleValue() )
	: new Double( $V{AVG_COST}.doubleValue() * $V{IN_OUT_QTY}.doubleValue() )]]></variableExpression>
	</variable>
	<variable name="INC_VALUE" class="java.lang.Double" resetType="Report" calculation="Sum">
		<variableExpression><![CDATA[$V{VALUE}]]></variableExpression>
	</variable>
	<variable name="AVG_COST" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{COST} == null || $V{BALANCE}.doubleValue() == 0 ? $V{AVG_COST} :
	 new Double( $V{INC_VALUE}.doubleValue() / $V{BALANCE}.doubleValue() )]]></variableExpression>
		<initialValueExpression><![CDATA[$F{COST}]]></initialValueExpression>
	</variable>
		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="138"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="782"
						height="22"
						key="textField-1"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font pdfFontName="Helvetica-Bold" size="12" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{Hospital}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="22"
						width="782"
						height="17"
						key="textField-2"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{Address} + " - " + $P{City}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="39"
						width="782"
						height="17"
						key="textField-3"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{Email}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="56"
						width="782"
						height="17"
						key="textField-4"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{Telephone}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="528"
						y="85"
						width="76"
						height="20"
						key="textField-27"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{DateFrom}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="528"
						y="105"
						width="76"
						height="20"
						key="textField-5"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{fromdate}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="604"
						y="85"
						width="76"
						height="20"
						key="textField-28"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{DateTo}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="604"
						y="105"
						width="76"
						height="20"
						key="textField-6"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{todate}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="176"
						y="85"
						width="176"
						height="20"
						key="textField-32"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Medical}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="176"
						y="105"
						width="176"
						height="20"
						key="textField-7"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{MDSR_DESC}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="352"
						y="85"
						width="176"
						height="20"
						key="textField-31"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{MedicalType}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="352"
						y="105"
						width="176"
						height="20"
						key="textField-8"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{MDSRT_DESC}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="85"
						width="104"
						height="20"
						key="textField-34"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Store}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="105"
						width="104"
						height="20"
						key="textField-9"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{WardName}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="680"
						y="85"
						width="52"
						height="20"
						key="textField-29"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{UoM}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="680"
						y="105"
						width="52"
						height="20"
						key="textField-11"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Units"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="104"
						y="85"
						width="72"
						height="20"
						key="textField-33"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Prod.Code}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="104"
						y="105"
						width="72"
						height="20"
						key="textField-12"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{MDSR_CODE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="732"
						y="85"
						width="50"
						height="20"
						key="textField-30"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Curr.}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="732"
						y="105"
						width="50"
						height="20"
						key="textField-17"/>
					<box>					<pen lineWidth="0.25" lineStyle="Solid"/>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{Currency}]]></textFieldExpression>
				</textField>
			</band>
		</title>
		<pageHeader>
			<band height="9"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="42"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="52"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{ID.Record}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="52"
						y="0"
						width="95"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Date}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="147"
						y="0"
						width="87"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Mov.Type}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="234"
						y="0"
						width="174"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Reference}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="560"
						y="0"
						width="44"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Out}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="604"
						y="0"
						width="76"
						height="42"
						forecolor="#000000"
						key="staticText"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Balance}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="516"
						y="0"
						width="44"
						height="42"
						forecolor="#000000"
						key="textField-26"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{In}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="680"
						y="0"
						width="84"
						height="42"
						forecolor="#000000"
						key="textField-24"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{ValueStar}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="408"
						y="0"
						width="55"
						height="42"
						forecolor="#000000"
						key="textField-19"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Unit.Cost}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="463"
						y="0"
						width="53"
						height="42"
						forecolor="#000000"
						key="textField-22"/>
					<box leftPadding="5" rightPadding="5" bottomPadding="5">					<pen lineWidth="0.0" lineStyle="Solid"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Avg.Cost}]]></textFieldExpression>
				</textField>
			</band>
		</columnHeader>
		<detail>
			<band height="18"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="2"
						width="52"
						height="16"
						forecolor="#000000"
						key="textField"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$F{MOVE_ID}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="dd/MM/yyyy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="52"
						y="2"
						width="95"
						height="16"
						forecolor="#000000"
						key="textField"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.sql.Timestamp"><![CDATA[$F{MOV_DATE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="234"
						y="2"
						width="174"
						height="16"
						forecolor="#000000"
						key="textField"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{ORDERING_FIELD}.equals( "1" ) ? $R{OpeningBalance}
: $F{ORDERING_FIELD}.equals( "3" ) ? $R{ClosingBalance} : $F{REASON}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="560"
						y="2"
						width="44"
						height="16"
						forecolor="#000000"
						key="textField"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{IN_OUT_QTY}.doubleValue() < 0 ? 
	new Double( -1 * $V{IN_OUT_QTY}.doubleValue() )
	: null]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="516"
						y="2"
						width="44"
						height="16"
						forecolor="#000000"
						key="textField-10"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{IN_OUT_QTY}.doubleValue() >= 0 ? $V{IN_OUT_QTY} : null]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="604"
						y="2"
						width="76"
						height="16"
						forecolor="#000000"
						key="textField-18">
							<printWhenExpression><![CDATA[new Boolean ( !$F{ORDERING_FIELD}.equals( "3" ) )]]></printWhenExpression>
						</reportElement>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{BALANCE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="408"
						y="2"
						width="55"
						height="16"
						forecolor="#000000"
						key="textField-20"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$F{COST}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="680"
						y="2"
						width="84"
						height="16"
						forecolor="#000000"
						key="textField-21">
							<printWhenExpression><![CDATA[new Boolean ( !$F{ORDERING_FIELD}.equals( "3" ) )]]></printWhenExpression>
						</reportElement>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{INC_VALUE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="463"
						y="2"
						width="53"
						height="16"
						forecolor="#000000"
						key="textField-23"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{AVG_COST}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						style="opening"
						x="147"
						y="2"
						width="87"
						height="16"
						forecolor="#000000"
						key="textField-35"/>
					<box leftPadding="5" rightPadding="5">					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{ORDERING_FIELD}.equals( "1" ) ? $R{opening}
: $F{ORDERING_FIELD}.equals( "3" ) ? $R{closing} : $F{MOV_TYPE}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="52"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="576"
						y="33"
						width="170"
						height="19"
						key="textField"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{Page} + " " + $V{PAGE_NUMBER} + " " + $R{of} + " "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="746"
						y="33"
						width="36"
						height="19"
						key="textField"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Left">
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="3"
						width="782"
						height="0"
						forecolor="#000000"
						key="line"/>
					<graphicElement stretchType="NoStretch">
					<pen lineWidth="2.0" lineStyle="Solid"/>
</graphicElement>
				</line>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="1"
						y="33"
						width="209"
						height="19"
						key="textField"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement>
						<font size="10" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="9"
						width="782"
						height="24"
						key="textField-25"/>
					<box></box>
					<textElement>
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$R{StarNote1}]]></textFieldExpression>
				</textField>
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
