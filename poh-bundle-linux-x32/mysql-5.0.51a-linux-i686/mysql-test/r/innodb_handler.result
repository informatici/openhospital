drop table if exists t1,t2;
create table t1 (a int, b char(10), key a(a), key b(a,b)) engine=innodb;
insert into t1 values
(17,"ddd"),(18,"eee"),(19,"fff"),(19,"yyy"),
(14,"aaa"),(15,"bbb"),(16,"ccc"),(16,"xxx"),
(20,"ggg"),(21,"hhh"),(22,"iii");
handler t1 open as t2;
handler t2 read a first;
a	b
14	aaa
handler t2 read a next;
a	b
15	bbb
handler t2 read a next;
a	b
16	ccc
handler t2 read a prev;
a	b
15	bbb
handler t2 read a last;
a	b
22	iii
handler t2 read a prev;
a	b
21	hhh
handler t2 read a prev;
a	b
20	ggg
handler t2 read a first;
a	b
14	aaa
handler t2 read a prev;
a	b
handler t2 read a last;
a	b
22	iii
handler t2 read a prev;
a	b
21	hhh
handler t2 read a next;
a	b
22	iii
handler t2 read a next;
a	b
handler t2 read a=(15);
a	b
15	bbb
handler t2 read a=(16);
a	b
16	ccc
handler t2 read a=(19,"fff");
ERROR 42000: Too many key parts specified; max 1 parts allowed
handler t2 read b=(19,"fff");
a	b
19	fff
handler t2 read b=(19,"yyy");
a	b
19	yyy
handler t2 read b=(19);
a	b
19	fff
handler t1 read a last;
ERROR 42S02: Unknown table 't1' in HANDLER
handler t2 read a=(11);
a	b
handler t2 read a>=(11);
a	b
14	aaa
handler t2 read a=(18);
a	b
18	eee
handler t2 read a>=(18);
a	b
18	eee
handler t2 read a>(18);
a	b
19	fff
handler t2 read a<=(18);
a	b
18	eee
handler t2 read a<(18);
a	b
17	ddd
handler t2 read a first limit 5;
a	b
14	aaa
15	bbb
16	ccc
16	xxx
17	ddd
handler t2 read a next  limit 3;
a	b
18	eee
19	fff
19	yyy
handler t2 read a prev  limit 10;
a	b
19	fff
18	eee
17	ddd
16	xxx
16	ccc
15	bbb
14	aaa
handler t2 read a>=(16) limit 4;
a	b
16	ccc
16	xxx
17	ddd
18	eee
handler t2 read a>=(16) limit 2,2;
a	b
17	ddd
18	eee
handler t2 read a last  limit 3;
a	b
22	iii
21	hhh
20	ggg
handler t2 read a=(19);
a	b
19	fff
handler t2 read a=(19) where b="yyy";
a	b
19	yyy
handler t2 read first;
a	b
17	ddd
handler t2 read next;
a	b
18	eee
handler t2 read last;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
handler t2 close;
handler t1 open;
handler t1 read a next;
a	b
14	aaa
handler t1 read a next;
a	b
15	bbb
handler t1 close;
handler t1 open;
handler t1 read a prev;
a	b
22	iii
handler t1 read a prev;
a	b
21	hhh
handler t1 close;
handler t1 open as t2;
handler t2 read first;
a	b
17	ddd
alter table t1 engine=innodb;
handler t2 read first;
ERROR 42S02: Unknown table 't2' in HANDLER
drop table t1;
CREATE TABLE t1 (  no1 smallint(5) NOT NULL default '0',  no2 int(10) NOT NULL default '0',  PRIMARY KEY  (no1,no2)) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1,274),(1,275),(2,6),(2,8),(4,1),(4,2);
HANDLER t1 OPEN;
HANDLER t1 READ `primary` = (1, 1000);
no1	no2
HANDLER t1 READ `primary` PREV;
no1	no2
1	275
DROP TABLE t1;
